{"version":3,"sources":["Fog.tsx","quest.png","message-service.ts","Quest.tsx","Landmark.tsx","landmark.png","App.tsx","index.tsx"],"names":["Fog","fog","context","setFog","useLeafletContext","maskRef","useRef","useEffect","current","L","TileLayer","maskCanvas","radius","useAbsoluteRadius","color","opacity","noMask","lineColor","container","layerContainer","map","addLayer","control","locate","position","addTo","removeLayer","setData","sendMessage","type","payload","message","window","ReactNativeWebView","postMessage","JSON","stringify","Quest","props","quest","icon","iconUrl","questIcon","Marker","latlng","Popup","alt","src","width","height","title","onClick","id","Landmark","landmark","name","visited","toString","Map","messageHandler","messageRN","parse","data","setQuests","quests","setLandmarks","landmarks","console","log","prevState","receiver","navigator","userAgent","toLowerCase","match","document","addEventListener","removeEventListener","useState","MapContainer","style","center","zoom","minZoom","maxBounds","maxBoundsViscosity","scrollWheelZoom","zoomControl","attributionControl","minNativeZoom","edgeBufferTiles","attribution","url","Object","keys","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"sTAKaA,EAAM,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,IACdC,GADgC,EAAbC,OACTC,eAGVC,EAAUC,mBA0BhB,OAxBAC,qBAAU,WAERF,EAAQG,QAAUC,IAAEC,UAAUC,WAAW,CACvCC,OAAQ,GACRC,mBAAmB,EACnBC,MAAO,OACPC,QAAS,GACTC,QAAQ,EACRC,UAAW,SAEb,IAAMC,EAAYhB,EAAQiB,gBAAkBjB,EAAQkB,IAKpD,OAJAF,EAAUG,SAAShB,EAAQG,SAE3BC,IAAEa,QAAQC,OAAO,CAACC,SAAU,gBAAgBC,MAAMP,GAE3C,WACLA,EAAUQ,YAAYrB,EAAQG,YAE/B,CAACN,EAAQiB,eAAgBjB,EAAQkB,MAEpCb,qBAAU,WACRF,EAAQG,QAAQmB,QAAQ1B,KACvB,CAACA,IAEG,MCnCM,u7N,gBCAF2B,EAAc,SAACC,EAAcC,GACxC,IAAMC,EAAU,CAAEF,OAAMC,WAExBE,OAAOC,mBAAmBC,YAAYC,KAAKC,UAAUL,KCG1CM,EAAQ,SAACC,GACpB,IAAMC,EAAQ9B,IAAE+B,KAAK,CACnBC,QAASC,IAEX,OACE,cAACC,EAAA,EAAD,CAAQnB,SAAUc,EAAMM,OAAQJ,KAAMD,EAAtC,SACE,cAACM,EAAA,EAAD,UACE,gCACE,qBAAKC,IAAI,YAAYC,IAAKL,EAAWM,MAAM,MAAMC,OAAO,QACxD,gCACE,6BAAKX,EAAMY,QACX,0CACA,0CACA,6CAEF,2CACA,wBAAQC,QAAS,kBAAMvB,EAAY,aAAcU,EAAMc,KAAvD,0BCfGC,EAAW,SAACf,GACvB,IAAMgB,EAAW7C,IAAE+B,KAAK,CACtBC,QCTW,utHDWb,OACE,cAACE,EAAA,EAAD,CAAQnB,SAAUc,EAAMM,OAAQJ,KAAMc,EAAtC,SACE,cAACT,EAAA,EAAD,UACE,gCACE,qBAAKC,IAAI,YAAYC,IAAKL,EAAWM,MAAM,MAAMC,OAAO,QACxD,gCACE,6BAAKX,EAAMiB,OACX,+BAAOjB,EAAMkB,QAAQC,aACrB,0CACA,6CAEF,wBAAQN,QAAS,kBAAMvB,EAAY,iBAAkBU,EAAMc,KAA3D,8DAGA,wBAAQD,QAAS,kBAAMvB,EAAY,gBAAiBU,EAAMc,KAA1D,4EEbJM,EAAM,WACV,IAAMC,EAAiB,SAAC5B,GACtB,IAAM6B,EAAYzB,KAAK0B,MAAM9B,EAAQ+B,MAC/BhC,EAAU8B,EAAU9B,QAC1B,OAAQ8B,EAAU/B,MAChB,IAAK,UACH1B,EAAO2B,EAAQ7B,KACf8D,EAAUjC,EAAQkC,QAClBC,EAAanC,EAAQoC,WACrB,MACF,IAAK,OACHC,QAAQC,IAAIR,EAAU9B,SACtB,MACF,IAAK,aACH3B,EAAO2B,GACP,MACF,IAAK,iBACHmC,GAAa,SAACI,GAAD,mBAAC,eACTA,GADQ,kBAEVvC,EAFU,YAAC,eAEIuC,EAAUvC,IAFf,IAEyB0B,SAAS,WAQrDjD,qBAAU,WAER,IAMM+D,EALGC,UAAUC,UACdC,cACAC,MAAM,0CAGsB1C,OAAS2C,SAG1C,OAFAL,EAASM,iBAAiB,UAAWjB,GAE9B,WACLW,EAASO,oBAAoB,UAAWlB,OAvC5B,MA6CMmB,mBAAmB,IA7CzB,mBA6CT7E,EA7CS,KA6CJE,EA7CI,OA8CY2E,mBAAqB,IA9CjC,mBA8CTd,EA9CS,KA8CDD,EA9CC,OA+CkBe,mBAAwB,IA/C1C,mBA+CTZ,EA/CS,KA+CED,EA/CF,KAiDhB,OACE,eAACc,EAAA,EAAD,CACEC,MAAO,CAAE/B,OAAQ,SACjBgC,OAAQ,CAAC,UAAW,WACpBC,KAAM,GACNC,QAAS,GACTC,UAAW,CACT,CAAC,OAAQ,SACT,CAAC,QAAS,UAEZC,mBAAoB,EACpBC,iBAAiB,EACjBC,aAAa,EACbC,oBAAoB,EAZtB,UAaE,cAAC9E,EAAA,EAAD,CACEyE,QAAS,GACTM,cAAe,GAEfC,gBAAiB,EAEjBC,YAAY,yEACZC,IAAI,uDAEN,cAAC,EAAD,CAAK3F,IAAKA,EAAKE,OAAQA,IACtB0F,OAAOC,KAAK9B,GAAQ5C,KAAI,SAACgC,GAAD,OACvB,cAAC,EAAD,aAAOA,GAAIA,GAAQY,EAAOZ,QAE3ByC,OAAOC,KAAK5B,GAAW9C,KAAI,SAACgC,GAAD,OAC1B,cAAC,EAAD,aAAUA,GAAIA,GAAQc,EAAUd,YAUzB2C,EAJH,WACV,OAAO,cAAC,EAAD,KC3FTC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFvB,SAASwB,eAAe,W","file":"static/js/main.5941e3ec.chunk.js","sourcesContent":["import { useLeafletContext } from '@react-leaflet/core';\nimport { useEffect, useRef } from 'react';\nimport L from 'leaflet';\n\n// @ts-ignore\nexport const Fog = ({ fog, setFog }) => {\n  const context = useLeafletContext();\n\n  //todo set type\n  const maskRef = useRef<any>();\n\n  useEffect(() => {\n    // @ts-ignore\n    maskRef.current = L.TileLayer.maskCanvas({\n      radius: 50, // radius in pixels or in meters (see useAbsoluteRadius)\n      useAbsoluteRadius: true, // true: r in meters, false: r in pixels\n      color: '#000', // the color of the layer\n      opacity: 0.5, // opacity of the not covered area\n      noMask: false, // true results in normal (filled) circled, instead masked circles\n      lineColor: '#A00', // color of the circle outline if noMask is true\n    });\n    const container = context.layerContainer || context.map;\n    container.addLayer(maskRef.current);\n    // @ts-ignore\n    L.control.locate({position: 'bottomright'}).addTo(container);\n\n    return () => {\n      container.removeLayer(maskRef.current);\n    };\n  }, [context.layerContainer, context.map]);\n\n  useEffect(() => {\n    maskRef.current.setData(fog);\n  }, [fog]);\n\n  return null;\n};\n","export default \"data:image/png;base64,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\"","export const sendMessage = (type: string, payload: string) => {\n  const message = { type, payload };\n  // @ts-ignore\n  window.ReactNativeWebView.postMessage(JSON.stringify(message));\n};\n","import L from 'leaflet';\nimport questIcon from './quest.png';\nimport { Marker, Popup } from 'react-leaflet';\nimport React from 'react';\nimport { sendMessage } from './message-service';\n\nexport const Quest = (props: any) => {\n  const quest = L.icon({\n    iconUrl: questIcon,\n  });\n  return (\n    <Marker position={props.latlng} icon={quest}>\n      <Popup>\n        <div>\n          <img alt=\"something\" src={questIcon} width=\"150\" height=\"150\" />\n          <div>\n            <h1>{props.title}</h1>\n            <span>30 min</span>\n            <span>30 min</span>\n            <span>30 min</span>\n          </div>\n          <button>start</button>\n          <button onClick={() => sendMessage('OPEN_QUEST', props.id)}>\n            more\n          </button>\n        </div>\n      </Popup>\n    </Marker>\n  );\n};\n","import L from 'leaflet';\nimport landmarkIcon from './landmark.png';\nimport { Marker, Popup } from 'react-leaflet';\nimport React from 'react';\nimport questIcon from './quest.png';\nimport { sendMessage } from './message-service';\n\nexport const Landmark = (props: any) => {\n  const landmark = L.icon({\n    iconUrl: landmarkIcon,\n  });\n  return (\n    <Marker position={props.latlng} icon={landmark}>\n      <Popup>\n        <div>\n          <img alt=\"something\" src={questIcon} width=\"150\" height=\"150\" />\n          <div>\n            <h1>{props.name}</h1>\n            <span>{props.visited.toString()}</span>\n            <span>30 min</span>\n            <span>30 min</span>\n          </div>\n          <button onClick={() => sendMessage('VISIT_LANDMARK', props.id)}>\n            Отметить\n          </button>\n          <button onClick={() => sendMessage('OPEN_LANDMARK', props.id)}>\n            Подробнее\n          </button>\n        </div>\n      </Popup>\n    </Marker>\n  );\n};\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport 'leaflet/dist/leaflet.css';\nimport { MapContainer, TileLayer } from 'react-leaflet';\nimport 'leaflet-maskcanvas';\nimport 'leaflet-edgebuffer';\nimport 'leaflet.locatecontrol';\nimport { Fog } from './Fog';\nimport { Quest } from './Quest';\nimport { Landmark } from './Landmark';\nimport { LandmarkState, QuestState } from './types/types';\n\nconst Map = () => {\n  const messageHandler = (message: any) => {\n    const messageRN = JSON.parse(message.data);\n    const payload = messageRN.payload;\n    switch (messageRN.type) {\n      case 'INITIAL':\n        setFog(payload.fog);\n        setQuests(payload.quests);\n        setLandmarks(payload.landmarks);\n        break;\n      case 'test':\n        console.log(messageRN.payload);\n        break;\n      case 'UPDATE_FOG':\n        setFog(payload);\n        break;\n      case 'VISIT_LANDMARK':\n        setLandmarks((prevState) => ({\n          ...prevState,\n          [payload]: { ...prevState[payload], visited: true },\n        }));\n        break;\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    //todo информация об ОС передается GET-запросом\n    const isUIWebView = () => {\n      return navigator.userAgent\n        .toLowerCase()\n        .match(/\\(ip.*applewebkit(?!.*(version|crios))/);\n    };\n\n    const receiver = isUIWebView() ? window : document;\n    receiver.addEventListener('message', messageHandler);\n\n    return () => {\n      receiver.removeEventListener('message', messageHandler);\n    };\n  });\n\n  type LatLng = [number, number];\n\n  const [fog, setFog] = useState<LatLng[]>([]);\n  const [quests, setQuests] = useState<QuestState>({});\n  const [landmarks, setLandmarks] = useState<LandmarkState>({});\n\n  return (\n    <MapContainer\n      style={{ height: '100vh' }}\n      center={[59.986232, 30.299219]}\n      zoom={10}\n      minZoom={10}\n      maxBounds={[\n        [59.822, 29.8404],\n        [60.1372, 30.7505],\n      ]}\n      maxBoundsViscosity={1}\n      scrollWheelZoom={true}\n      zoomControl={false}\n      attributionControl={false}>\n      <TileLayer\n        minZoom={10}\n        minNativeZoom={10}\n        // @ts-ignore\n        edgeBufferTiles={4}\n        // detectRetina\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      <Fog fog={fog} setFog={setFog} />\n      {Object.keys(quests).map((id: string) => (\n        <Quest id={id} {...quests[id]} />\n      ))}\n      {Object.keys(landmarks).map((id: string) => (\n        <Landmark id={id} {...landmarks[id]} />\n      ))}\n    </MapContainer>\n  );\n};\n\nconst App = () => {\n  return <Map />;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}